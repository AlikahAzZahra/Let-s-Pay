/* =========================================================
   MENU PAGE CSS — MERGED & FIXED
   - Gunakan 1 file ini saja untuk MenuPage
   - Keranjang nempel di bawah navbar, overlay offset dari navbar
   - Body terkunci saat cart / modal / popup terbuka (class .cart-open)
   ========================================================= */

/* ========== ROOT & RESET ========== */
:root{
  --navbar-h: 70px;             /* samakan dengan tinggi .main-navbar */
  --cart-w-desktop: 380px;      /* lebar panel cart di desktop */
}

html, body, #root{
  height: 100%;
  min-height: 100vh;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  box-sizing: border-box;
}
*, *::before, *::after{ box-sizing: inherit; }

body.cart-open{ overflow: hidden; }   /* dikasih/dihapus dari JS */

/* ========== NAVBAR ========== */
.main-navbar{
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--navbar-h);
  background: rgb(218,216,216);
  box-shadow: 0 2px 5px rgba(0,0,0,.1);
  z-index: 2000;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 20px;
}

.navbar-logo-group{ display: flex; align-items: center; flex-grow: 1; }
.navbar-logo{ height: 50px; width: auto; margin-right: 10px; border-radius: 50%; }
.navbar-text{ display: flex; flex-direction: column; align-items: flex-start; }
.navbar-text span:first-child{ font-size: 1.5em; font-weight: bold; color:#333; line-height:1.2; }
.navbar-text span:last-child{ font-size: .9em; color:#666; line-height:1.2; }

.about-us-link,
.cart-toggle-button{
  background-image: linear-gradient(to right, #8f8e8e, #525150);
  color: #fff; border: none; border-radius: 8px;
  padding: 8px 14px; font-weight: 700; font-size: 1em;
  display: flex; align-items: center; gap: 6px;
  box-shadow: 0 4px 10px rgba(0,0,0,.1);
  cursor: pointer; text-decoration: none;
  transition: transform .2s, box-shadow .2s;
}
.about-us-link:hover, .cart-toggle-button:hover{
  transform: scale(1.04); box-shadow: 0 6px 15px rgba(0,0,0,.2);
}
.cart-toggle-button.hidden{ display: none; }

/* ========== LAYOUT HALAMAN ========== */
.menu-page-container{
  display: flex; flex-direction: row;
  width: 100%;
  min-height: 100svh;
  padding-top: var(--navbar-h); /* supaya tidak ketutup navbar */
}

.main-menu-content{
  flex: 1 1 auto;
  padding: 16px 20px 24px;
  min-height: calc(100svh - var(--navbar-h));
  overflow: auto;
}

/* ========== TEKS ========== */
.menu-page-title{
  text-align: center; color: #333;
  font-size: 2em; margin: 12px 0 8px;
}
.menu-page-description{ text-align:center; color:#666; margin: 0 0 24px; }
.menu-message{ text-align:center; font-size:1.1em; color:#555; margin-top:40px; }
.menu-error{ color:#dc3545; }

/* ========== GRID MENU ========== */
.menu-category-title{
  font-size: 1.5em; color:#444;
  border-bottom: 2px solid #ddd; padding-bottom: 10px;
  margin: 10px 0 18px;
}

.menu-items-grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 36px;
}

/* ========== KARTU MENU ========== */
.menu-item-card{
  background:#fff; padding:15px; border-radius:12px;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  display:flex; flex-direction:column; justify-content:space-between;
  transition: transform .2s, box-shadow .2s;
}
.menu-item-card:hover{ transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0,0,0,.12); }
.menu-item-image{ width:100%; height:150px; object-fit:cover; border-radius:8px; margin-bottom:10px; }
.menu-item-name{ font-size:1.2em; font-weight:700; color:#333; margin:0; }
.menu-item-description{ color:#666; font-size:.9em; margin:6px 0; flex:1; }
.menu-item-price{ color:#0d6efd; font-weight:700; margin:10px 0; }

/* Opsi */
.item-options-group{
  margin:10px 0; padding:10px; background:#fcfcfc;
  border:1px solid #f0f0f0; border-radius:6px; display:flex; flex-direction:column; gap:6px;
}
.option-label{ font-size:.9em; font-weight:700; color:#444; }

/* Qty */
.quantity-control{ display:flex; align-items:center; gap:10px; justify-content:center; margin-top:8px; }
.quantity-buttons{
  width:32px; height:32px; border:none; color:#fff; border-radius:10%;
  font-size:1.1rem; cursor:pointer; display:flex; align-items:center; justify-content:center;
  transition: background .2s;
}
.quantity-buttons.add{ background:#28a745; } .quantity-button.add:hover{ background:#218838; }
.quantity-buttons.removees{ background:#dc3545; } .quantity-button.remove:hover{ background:#c82333; }
.quantity-display{ font-weight:700; min-width:22px; text-align:center; }

/* ========== CART SIDEBAR + OVERLAY ========== */
.cart-sidebar{
  position: fixed;
  top: var(--navbar-h);
  right: calc(-1 * var(--cart-w-desktop));   /* tersembunyi */
  width: var(--cart-w-desktop);
  height: calc(100vh - var(--navbar-h));
  background:#fff;
  box-shadow: -5px 0 16px rgba(0,0,0,.18);
  transition: right .28s ease-in-out;
  z-index: 1900;
  display:flex; flex-direction:column;
}
.cart-sidebar.open{ right: 0; }

/* overlay hanya area di bawah navbar supaya navbar tetap bisa diakses */
.cart-overlay{
  position: fixed;
  top: var(--navbar-h);
  left: 0; right: 0;
  height: calc(100vh - var(--navbar-h));
  background: rgba(0,0,0,.45);
  z-index: 1850;
  display: none;
}
/* NOTE: overlay harus ditempatkan setelah .cart-sidebar di DOM */
.cart-sidebar.open + .cart-overlay{ display: block; }

/* Header keranjang */
.cart-sidebar-header{
  position: sticky; top: 0; z-index: 1;
  background:#f8f9fa; border-bottom:1px solid #eee;
  padding: 16px 18px;
  display:flex; align-items:center; justify-content:space-between;
}
.cart-sidebar-header h3{ margin:0; color:#333; font-size:1.15em; font-weight:700; }
.close-sidebar-button{
  background:none; border:none; font-size:24px; color:#666; width:32px; height:32px;
  display:flex; align-items:center; justify-content:center; border-radius:50%; cursor:pointer;
  transition: background .2s;
}
.close-sidebar-button:hover{ background:#e9ecef; color:#333; }

/* Item */
.cart-items{ flex:1; overflow:auto; }
.empty-cart-message{ text-align:center; padding:36px 16px; color:#666; font-style:italic; }
.cart-item{
  position:relative; background:#fff; padding:16px 18px; border-bottom:1px solid #f0f0f0;
  display:flex; flex-direction:column; gap:8px; transition: background .2s;
}
.cart-item:hover{ background:#fafafa; }
.cart-item-top-row{ display:flex; align-items:flex-start; justify-content:space-between; }
.cart-item-left{ display:flex; align-items:center; gap:8px; flex:1; }
.cart-item-quantity{ color:#000; padding:4px 8px; border-radius:12px; font-size:.85em; font-weight:700; min-width:30px; text-align:center; }
.cart-item-name{ font-weight:700; color:#333; font-size:.95em; line-height:1.3; flex:1; }
.remove-from-cart-button{
  position:absolute; top:8px; right:8px; width:24px; height:24px; border:none; background:transparent; color:#000;
  border-radius:50%; display:flex; align-items:center; justify-content:center; font-weight:700; cursor:pointer; transition: all .2s;
}
.remove-from-cart-button:hover{ background:#c82333; color:#fff; transform: scale(1.1); }
.cart-item-price{ font-weight:800; margin-top:4px; margin-left:60px; }
.cart-item-options{ margin-left:60px; margin-top:4px; }
.cart-item-option{ display:inline-block; margin-right:6px; padding:2px 8px; border-radius:10px; background:#f1f3f5; font-size:.8rem; color:#666; }

/* Ringkasan + Tombol Pesan */
.cart-summary-total{
  position: sticky; bottom: 56px;   /* ruang untuk tombol besar */
  background:#f8f9fa; border-top:2px solid #28a745; padding: 14px 18px; text-align:center; z-index:2;
}
.cart-summary-total strong{ color:#28a745; font-size:1.15rem; }

.place-order-button{
  position: sticky; bottom: 0;
  width: 100%; border: none; color:#fff; background:#28a745; font-weight:700; font-size:1.05rem;
  padding: 14px 18px calc(14px + env(safe-area-inset-bottom, 8px));
  cursor: pointer; transition: background .2s; z-index:3;
}
.place-order-button:hover:not(:disabled){ background:#218838; }
.place-order-button:disabled{ background:#6c757d; opacity:.7; cursor:not-allowed; }

/* ========== PAYMENT SUCCESS OVERLAY (popup) ========== */
.payment-success-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.7);
  display:flex; align-items:center; justify-content:center;
  z-index: 3000;
}
.payment-success-content{
  background:#fff; padding:30px; border-radius:10px; max-width:420px; margin:16px;
  text-align:center; box-shadow: 0 5px 15px rgba(0,0,0,.3);
}

/* ========== FOOTER (opsional) ========== */
.main-footer{ background:#f8f8f8; color:#555; padding:40px 20px; box-shadow:0 -2px 5px rgba(0,0,0,.1); }
.footer-container{ display:flex; justify-content:space-around; align-items:flex-start; flex-wrap:wrap; max-width:1200px; margin:0 auto; }
.footer-section{ flex:1; min-width:200px; margin-bottom:20px; }
.footer-left{ flex-grow:1.5; }
.footer-logo-container{ display:flex; align-items:center; gap:15px; margin-bottom:10px; }
.footer-logo{ width:50px; height:auto; }
.footer-address{ font-size:.9em; color:#777; }
.footer-title{ font-size:1.2em; font-weight:700; color:#333; margin-bottom:15px; }
.footer-info p, .footer-contact p{ margin:5px 0; }
.footer-info a, .footer-contact a{ color:#555; text-decoration:none; }
.footer-info a:hover, .footer-contact a:hover{ text-decoration:underline; }
.online-order-icons{ display:flex; gap:10px; margin-top:10px; }
.online-order-icon{ width:60px; height:30px; background:#eee; display:flex; align-items:center; justify-content:center; border-radius:5px; font-size:.8em; color:#555; }

/* ========== MODAL (Add/Edit Order) — bila dipakai di halaman ini ========== */
.add-order-modal-overlay,
.edit-order-modal-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.7);
  z-index: 3100;
  display:flex; justify-content:center; align-items:flex-start;
  overflow:auto; padding:20px 10px;
  animation: fadeIn .3s ease-out;
}
.add-order-container, .edit-order-container{
  background:#fff; width:100%; max-width:700px; max-height:85vh; overflow:auto;
  border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.3);
  display:flex; flex-direction:column; margin:auto;
  animation: slideIn .3s ease-out;
}
.add-order-header, .edit-order-header{
  background:#3498db; color:#fff; padding:20px; border-radius:12px 12px 0 0;
  display:flex; align-items:center; gap:15px; position:sticky; top:0; z-index:1;
}
.back-btn{ background:rgba(255,255,255,.2); border:none; color:#fff; width:40px; height:40px; border-radius:50%; font-size:24px; cursor:pointer; }
.back-btn:hover{ background:rgba(255,255,255,.3); }
.add-order-header h2, .edit-order-header h2{ margin:0; font-size:1.3em; flex:1; }

.add-detail-section, .add-menu-section, .edit-menu-section{ padding: 0 20px 16px; }
.add-section-title, .edit-section-title{
  font-size:1.05em; font-weight:700; color:#2c3e50; margin:14px 0 10px; padding-bottom:6px; border-bottom:2px solid #3498db;
}

.add-menu-category-section, .edit-menu-category-section{ margin-bottom:24px; border:1px solid #e0e0e0; border-radius:10px; overflow:hidden; }
.add-category-title, .edit-category-title{
  background:#f8f9fa; margin:0; padding:14px 18px; font-weight:700; color:#2c3e50; border-bottom:1px solid #e0e0e0;
  text-transform:uppercase; letter-spacing:.4px;
}
.add-menu-category-content, .edit-menu-category-content{
  display:grid; grid-template-columns:repeat(auto-fit, minmax(280px, 1fr)); gap:14px; padding:16px; background:#f1f3f4;
}
.add-menu-item, .edit-menu-item{
  padding:14px; border:1px solid #e0e0e0; border-radius:10px; background:#fff; min-height:110px;
  display:flex; flex-direction:column; transition: background .2s;
}
.add-menu-item:hover, .edit-menu-item:hover{ background:#f8f9fa; }
.add-menu-item.selected, .edit-menu-item.selected{ background:#e8f4fd; border-left:4px solid #3498db; }
.add-menu-item-header, .edit-menu-item-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
.add-menu-item-name, .edit-menu-item-name{ font-weight:700; color:#2c3e50; }
.add-menu-item-price, .edit-menu-item-price{ color:#27ae60; font-weight:700; }

.add-item-options-group, .edit-item-options-group{
  margin: 10px 0; padding:12px; border:1px solid #e0e0e0; border-radius:8px; background:#f9f9f9;
}
.add-radio-group, .edit-radio-group{ display:flex; flex-wrap:wrap; gap:12px; }
.add-radio-group label, .edit-radio-group label{
  display:flex; align-items:center; gap:8px; padding:8px 12px; border:2px solid #ddd; border-radius:20px; background:#fff; cursor:pointer;
  transition: all .2s; color:#555;
}
.add-radio-group label:hover, .edit-radio-group label:hover{ border-color:#3498db; background:#f0f8ff; }
.add-radio-group input[type="radio"], .edit-radio-group input[type="radio"]{ accent-color:#3498db; margin:0; }
.add-radio-group label:has(input:checked), .edit-radio-group label:has(input:checked){ border-color:#3498db; background:#e8f4fd; color:#3498db; }

.add-quantity-controls, .edit-quantity-controls{ display:flex; align-items:center; gap:10px; justify-content:center; margin-top:auto; }
.add-qty-btn, .edit-qty-btn{
  width:35px; height:35px; border:1px solid #ddd; background:#fff; border-radius:50%;
  font-weight:700; cursor:pointer; transition: all .2s; color:#555;
}
.add-qty-btn:hover, .edit-qty-btn:hover{ border-color:#3498db; color:#3498db; transform: scale(1.05); }
.add-qty-btn:disabled, .edit-qty-btn:disabled{ opacity:.5; cursor:not-allowed; transform:none; }
.add-qty-display, .edit-qty-display{ font-weight:700; min-width:30px; text-align:center; padding:6px 8px; background:#f8f9fa; border:1px solid #e0e0e0; border-radius:6px; }

/* Summary */
.add-order-summary, .edit-order-summary{ margin-top:16px; padding:14px 18px; background:#f8f9fa; border:1px solid #e0e0e0; border-radius:10px; max-height:300px; overflow:auto; }
.add-summary-list, .edit-summary-list{ max-height:160px; overflow:auto; margin-bottom:12px; }
.add-summary-item, .edit-summary-item{ display:flex; justify-content:space-between; gap:10px; padding:8px 0; border-bottom:1px solid #ddd; }
.add-summary-item:last-child, .edit-summary-item:last-child{ border-bottom:none; }
.add-summary-options, .edit-summary-options{ font-size:.85em; color:#666; }
.add-summary-total, .edit-summary-total{ display:flex; justify-content:space-between; padding:12px 0 8px; border-top:2px solid #3498db; font-weight:700; color:#2c3e50; }
.add-save-btn, .edit-save-btn{ width:100%; padding:12px; background:#3498db; color:#fff; border:none; border-radius:8px; font-weight:700; cursor:pointer; transition: all .2s; }
.add-save-btn:hover, .edit-save-btn:hover{ background:#2980b9; transform: translateY(-1px); box-shadow: 0 4px 12px rgba(52,152,219,.3); }
.add-save-btn:disabled, .edit-save-btn:disabled{ background:#bdc3c7; cursor:not-allowed; }

/* Scrollbar halus */
.add-order-container::-webkit-scrollbar,
.edit-order-container::-webkit-scrollbar,
.add-summary-list::-webkit-scrollbar,
.edit-summary-list::-webkit-scrollbar,
.cart-items::-webkit-scrollbar{ width: 8px; }
.add-order-container::-webkit-scrollbar-track,
.edit-order-container::-webkit-scrollbar-track,
.add-summary-list::-webkit-scrollbar-track,
.edit-summary-list::-webkit-scrollbar-track,
.cart-items::-webkit-scrollbar-track{ background:#f1f1f1; border-radius:4px; }
.add-order-container::-webkit-scrollbar-thumb,
.edit-order-container::-webkit-scrollbar-thumb,
.add-summary-list::-webkit-scrollbar-thumb,
.edit-summary-list::-webkit-scrollbar-thumb,
.cart-items::-webkit-scrollbar-thumb{ background:#c1c1c1; border-radius:4px; }
.add-order-container::-webkit-scrollbar-thumb:hover,
.edit-order-container::-webkit-scrollbar-thumb:hover,
.add-summary-list::-webkit-scrollbar-thumb:hover,
.edit-summary-list::-webkit-scrollbar-thumb:hover,
.cart-items::-webkit-scrollbar-thumb:hover{ background:#a8a8a8; }

/* ========== ANIMASI & AKSESIBILITAS ========== */
@keyframes fadeIn{ from{opacity:0} to{opacity:1} }
@keyframes slideIn{ from{opacity:0; transform:translateY(-30px) scale(.97)} to{opacity:1; transform:translateY(0) scale(1)} }

.back-btn:focus, .add-qty-btn:focus, .edit-qty-btn:focus, .add-save-btn:focus, .edit-save-btn:focus{
  outline: 3px solid rgba(52,152,219,.4); outline-offset: 2px;
}
.add-radio-group input[type="radio"]:focus, .edit-radio-group input[type="radio"]:focus{
  outline: 2px solid rgba(52,152,219,.4); outline-offset: 2px;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 992px){
  :root{ --cart-w-desktop: 360px; }
}

@media (max-width: 768px){
  .menu-page-container{ flex-direction: column; }
  .main-menu-content{ padding: 12px 12px 20px; }

  /* Keranjang full width di HP */
  .cart-sidebar{ width: 100%; right: -100%; }
  .cart-sidebar.open{ right: 0; }

  .navbar-logo{ height: 44px; }
  .navbar-text span:first-child{ font-size: 1.25em; }
  .navbar-text span:last-child{ font-size: .8em; }

  .menu-items-grid{ grid-template-columns: 1fr; gap: 16px; }

  .add-menu-category-content, .edit-menu-category-content{
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  }
}

@media (max-width: 480px){
  .menu-item-image{ height: 170px; }
  .about-us-link{ display: none; } /* hemat ruang */
  .cart-item{ padding: 12px 14px; }
  .cart-item-price, .cart-item-options{ margin-left: 48px; }
  .place-order-button{ padding: 16px; font-size: 1.05rem; }

  .add-menu-category-content, .edit-menu-category-content{ grid-template-columns: 1fr; gap: 10px; }
  .add-menu-item, .edit-menu-item{ min-height: 100px; }
}

/* Layar besar */
@media (min-width: 1200px){
  .add-menu-category-content, .edit-menu-category-content{ grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
}
@media (min-width: 1400px){
  .add-menu-category-content, .edit-menu-category-content{ grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); }
}

/* ========== HIGH CONTRAST & REDUCED MOTION ========== */
@media (prefers-contrast: high){
  .add-menu-item, .edit-menu-item{ border: 2px solid #000; }
  .add-menu-item.selected, .edit-menu-item.selected{ border-left-width: 6px; }
  .add-qty-btn, .edit-qty-btn{ border-width: 3px; }
}
@media (prefers-reduced-motion: reduce){
  .menu-item-card, .cart-toggle-button, .about-us-link{ transition: none; }
  .menu-item-card:hover{ transform: none; }
}

/* ========== DARK MODE (opsional) ========== */
@media (prefers-color-scheme: dark){
  .main-navbar{ background:#2c2c2c; }
  .navbar-text span:first-child{ color:#fff; }
  .navbar-text span:last-child{ color:#ccc; }

  .menu-item-card{ background:#3c3c3c; color:#fff; }
  .menu-item-name{ color:#fff; }
  .menu-item-description{ color:#ccc; }
}

/* ========== CETAK ========== */
@media print{
  .main-navbar, .cart-sidebar, .cart-toggle-button, .about-us-link{ display:none !important; }
  .menu-page-container{ padding-top: 0; }
  .main-menu-content{ height:auto; overflow:visible; }
}
